@inherits LayoutComponentBase
@inject HttpClient Http

<MudThemeProvider @ref="@ThemeProvider" @bind-IsDarkMode="@IsDarkMode" Theme="Theme" />
<MudDialogProvider />
<MudSnackbarProvider />

<CascadingValue Name="Gachas" Value="Gachas">
    <MudLayout>
        <MudAppBar Elevation="0">
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
            <MudSpacer />
            <MudTooltip Text="@("Switch to " + (IsDarkMode ? "Light" : "Dark") + " theme")">
            <MudToggleIconButton Icon="@Icons.Material.Outlined.DarkMode" ToggledIcon="@Icons.Material.Filled.LightMode" ToggledChanged="ThemeToggle" />
            </MudTooltip>
            <MudTooltip Text="GitHub Repository">
            <MudIconButton Icon="@Icons.Custom.Brands.GitHub" Color="Color.Inherit" Link="https://github.com/BillyCool/NierReinGachaSimulator/" Target="_blank" />
            </MudTooltip>
        </MudAppBar>
        <MudDrawer @bind-Open="IsDrawerOpen" Elevation="1">
            <MudDrawerHeader>
                <MudText Typo="Typo.h6" Align="Align.Center">NieR Re[in]carnation Gacha Simulator</MudText>
            </MudDrawerHeader>
            <NavMenu />
        </MudDrawer>
        <MudMainContent>
            <MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="my-4 py-16">
                @Body
                <MudScrollToTop>
                    <MudFab Color="Color.Primary" Icon="@Icons.Filled.ArrowCircleUp" />
                </MudScrollToTop>
            </MudContainer>
        </MudMainContent>
    </MudLayout>
</CascadingValue>
